(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{2771:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return n}));r(31);var i=function(t){var e=window.chatwootConfig,r=e.hostURL,i=e.helpCenterURL;return"".concat(i||r||"","/hc/").concat(t)},n=function(t,e,r,n){var a=i(t);return"".concat(a,"/").concat(r,"/").concat(e,"/").concat(n)}},2842:function(t,e,r){},2993:function(t,e,r){"use strict";r(2842)},3044:function(t,e,r){"use strict";r.r(e);r(19),r(670),r(7),r(3),r(5),r(9),r(8),r(10),r(6),r(18);var i=r(4),n=r(2869),a=r(2867),s=r(2870),c=r(65),o=r(572),l=r(16),u=r(54),p=r(2771),E=r(50);function d(t,e,r,i,n,a,s){try{var c=t[a](s),o=c.value}catch(l){return void r(l)}c.done?e(o):Promise.resolve(o).then(i,n)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var a=t.apply(e,r);function s(t){d(a,i,n,s,c,"next",t)}function c(t){d(a,i,n,s,c,"throw",t)}s(void 0)}))}}function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var A=u.b.ARTICLE_STATUS_TYPES,R={components:{EditArticleHeader:n.a,ArticleEditor:a.a,Spinner:c.a,ArticleSettings:s.a},mixins:[o.a,l.a],data:function(){return{isUpdating:!1,isSaved:!1,showArticleSettings:!0,alertMessage:"",showDeleteConfirmationPopup:!1}},computed:g(g({},Object(i.mapGetters)({isFetching:"articles/isFetching",articles:"articles/articles"})),{},{article:function(){return this.$store.getters["articles/articleById"](this.articleId)},articleId:function(){return this.$route.params.articleSlug},selectedPortalSlug:function(){return this.$route.params.portalSlug},portalLink:function(){var t=this.$route.params.portalSlug;return Object(p.a)(t,this.article.category.slug,this.article.category.locale,this.article.id)}}),mounted:function(){this.fetchArticleDetails()},methods:{onClickGoBack:function(){this.$router.push({name:"list_all_locale_articles"})},fetchArticleDetails:function(){this.$store.dispatch("articles/show",{id:this.articleId,portalSlug:this.selectedPortalSlug})},openDeletePopup:function(){this.showDeleteConfirmationPopup=!0},closeDeletePopup:function(){this.showDeleteConfirmationPopup=!1},confirmDeletion:function(){var t;this.closeDeletePopup(),this.deleteArticle(),this.$track(E.f.DELETE_ARTICLE,{status:null===(t=this.article)||void 0===t?void 0:t.status})},saveArticle:function(t){var e=this;return h(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=Object.assign({},t),e.isUpdating=!0,r.prev=2,r.next=5,e.$store.dispatch("articles/update",g({portalSlug:e.selectedPortalSlug,articleId:e.articleId},i));case 5:r.next=11;break;case 7:r.prev=7,r.t0=r.catch(2),e.alertMessage=(null===r.t0||void 0===r.t0?void 0:r.t0.message)||e.$t("HELP_CENTER.EDIT_ARTICLE.API.ERROR"),e.showAlert(e.alertMessage);case 11:return r.prev=11,setTimeout((function(){e.isUpdating=!1,e.isSaved=!0}),1500),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[2,7,11,14]])})))()},deleteArticle:function(){var t=this;return h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("articles/delete",{portalSlug:t.selectedPortalSlug,articleId:t.articleId});case 3:t.alertMessage=t.$t("HELP_CENTER.DELETE_ARTICLE.API.SUCCESS_MESSAGE"),t.$router.push({name:"list_all_locale_articles",params:{portalSlug:t.selectedPortalSlug,locale:t.locale,recentlyDeleted:!0}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||t.$t("HELP_CENTER.DELETE_ARTICLE.API.ERROR_MESSAGE");case 10:return e.prev=10,t.showAlert(t.alertMessage),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()},archiveArticle:function(){var t=this;return h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("articles/update",{portalSlug:t.selectedPortalSlug,articleId:t.articleId,status:A.ARCHIVE});case 3:t.alertMessage=t.$t("HELP_CENTER.ARCHIVE_ARTICLE.API.SUCCESS"),t.$track(E.f.ARCHIVE_ARTICLE,{uiFrom:"sidebar"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||t.$t("HELP_CENTER.ARCHIVE_ARTICLE.API.ERROR");case 10:return e.prev=10,t.showAlert(t.alertMessage),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()},openArticleSettings:function(){this.showArticleSettings=!0},closeArticleSettings:function(){this.showArticleSettings=!1},showArticleInPortal:function(){var t;window.open(this.portalLink,"_blank"),this.$track(E.f.PREVIEW_ARTICLE,{status:null===(t=this.article)||void 0===t?void 0:t.status})}}},C=(r(2993),r(1)),S=Object(C.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-container"},[r("div",{staticClass:"edit-article--container",class:{"is-sidebar-open":t.showArticleSettings}},[r("edit-article-header",{attrs:{"back-button-label":t.$t("HELP_CENTER.HEADER.TITLES.ALL_ARTICLES"),"is-updating":t.isUpdating,"is-saved":t.isSaved,"is-sidebar-open":t.showArticleSettings},on:{back:t.onClickGoBack,open:t.openArticleSettings,close:t.closeArticleSettings,show:t.showArticleInPortal}}),t._v(" "),t.isFetching?r("div",{staticClass:"text-center p-normal fs-default h-full"},[r("spinner",{attrs:{size:""}}),t._v(" "),r("span",[t._v(t._s(t.$t("HELP_CENTER.EDIT_ARTICLE.LOADING")))])],1):r("article-editor",{attrs:{"is-settings-sidebar-open":t.showArticleSettings,article:t.article},on:{"save-article":t.saveArticle}})],1),t._v(" "),t.showArticleSettings?r("article-settings",{attrs:{article:t.article},on:{"save-article":t.saveArticle,"delete-article":t.openDeletePopup,"archive-article":t.archiveArticle}}):t._e(),t._v(" "),r("woot-delete-modal",{attrs:{show:t.showDeleteConfirmationPopup,"on-close":t.closeDeletePopup,"on-confirm":t.confirmDeletion,title:t.$t("HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.TITLE"),message:t.$t("HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.MESSAGE"),"confirm-text":t.$t("HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.YES"),"reject-text":t.$t("HELP_CENTER.DELETE_ARTICLE.MODAL.CONFIRM.NO")},on:{"update:show":function(e){t.showDeleteConfirmationPopup=e}}})],1)}),[],!1,null,"fdb9fd06",null);e.default=S.exports}}]);
//# sourceMappingURL=33-846aadd2e8b48196d8d9.chunk.js.map