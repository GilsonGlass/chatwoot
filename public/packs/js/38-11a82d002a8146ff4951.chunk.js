(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{2841:function(e,t,r){},2992:function(e,t,r){"use strict";r(2841)},3043:function(e,t,r){"use strict";r.r(t);r(19),r(670),r(7),r(3),r(5),r(9),r(8),r(10),r(6),r(18);var i=r(4),n=r(2869),c=r(2867),a=r(572),l=r(16),s=r(2870),o=r(50);function u(e,t,r,i,n,c,a){try{var l=e[c](a),s=l.value}catch(o){return void r(o)}l.done?t(s):Promise.resolve(s).then(i,n)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={components:{EditArticleHeader:n.a,ArticleEditor:c.a,ArticleSettings:s.a},mixins:[a.a,l.a],data:function(){return{articleTitle:"",articleContent:"",showOpenSidebarButton:!1,showArticleSettings:!0,article:{}}},computed:g(g({},Object(i.mapGetters)({currentUserID:"getCurrentUserID",articles:"articles/articles",categories:"categories/allCategories"})),{},{articleId:function(){return this.$route.params.articleSlug},newArticle:function(){return{title:this.articleTitle,content:this.articleContent}},selectedPortalSlug:function(){return this.$route.params.portalSlug},categoryId:function(){return this.categories.length?this.categories[0].id:null}}),methods:{onClickGoBack:function(){this.$router.push({name:"list_all_locale_articles"})},createNewArticle:function(e){var t,r=this;return(t=regeneratorRuntime.mark((function t(){var i,n,c,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object.assign({},e),n=i.title,c=i.content,n&&(r.articleTitle=n),c&&(r.articleContent=c),!r.articleTitle||!r.articleContent){t.next=17;break}return t.prev=5,t.next=8,r.$store.dispatch("articles/create",{portalSlug:r.selectedPortalSlug,content:r.articleContent,title:r.articleTitle,author_id:r.currentUserID,category_id:r.categoryId});case 8:a=t.sent,r.$router.push({name:"edit_article",params:{articleSlug:a,portalSlug:r.selectedPortalSlug,locale:r.locale,recentlyCreated:!0}}),r.$track(o.f.CREATE_ARTICLE,{locale:r.locale}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),r.alertMessage=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||r.$t("HELP_CENTER.CREATE_ARTICLE.API.ERROR_MESSAGE"),r.showAlert(r.alertMessage);case 17:case"end":return t.stop()}}),t,null,[[5,13]])})),function(){var e=this,r=arguments;return new Promise((function(i,n){var c=t.apply(e,r);function a(e){u(c,i,n,a,l,"next",e)}function l(e){u(c,i,n,a,l,"throw",e)}a(void 0)}))})()},openArticleSettings:function(){this.showArticleSettings=!0},closeArticleSettings:function(){this.showArticleSettings=!1},saveArticle:function(){this.alertMessage=this.$t("HELP_CENTER.CREATE_ARTICLE.ERROR_MESSAGE"),this.showAlert(this.alertMessage)}}},d=h,A=(r(2992),r(1)),E=Object(A.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"article-container"},[r("div",{staticClass:"new-article--container",class:{"is-sidebar-open":e.showArticleSettings}},[r("edit-article-header",{attrs:{"back-button-label":e.$t("HELP_CENTER.HEADER.TITLES.ALL_ARTICLES"),"draft-state":"saved","is-sidebar-open":e.showArticleSettings},on:{back:e.onClickGoBack,open:e.openArticleSettings,close:e.closeArticleSettings,"save-article":e.createNewArticle}}),e._v(" "),r("article-editor",{attrs:{article:e.newArticle},on:{"save-article":e.createNewArticle}})],1),e._v(" "),e.showArticleSettings?r("article-settings",{attrs:{article:e.article},on:{"save-article":e.saveArticle}}):e._e()],1)}),[],!1,null,"02864d9c",null);t.default=E.exports}}]);
//# sourceMappingURL=38-11a82d002a8146ff4951.chunk.js.map